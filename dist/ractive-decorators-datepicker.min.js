var datepickerDecorator=function(){"use strict";function e(t,a="default"){const{internalFormat:n,types:r}=e,i=r[a]||r.default,s=n||i.format||"mm/dd/yyyy",o=i.language||"en",c=new WeakMap;let l,p;const d=e=>{const t=this.getContext(e).getBindingPath();if(!t)return c.set(e,{}),e;const a=e.type,n=e.cloneNode();return e.id&&(n.id=`${e.id}-datepicker`),n.removeAttribute("name"),n.value="",e.type="hidden",e.after(n),c.set(n,{element:e,keypath:t,orignalType:a}),n},u=e=>{const t=c.get(e);e.remove(),t.element.type=t.orignalType};if("INPUT"===t.tagName){const e=d(t);l=[e],p=new Datepicker(e,i)}else{const e=Object.assign({},i),a=i.inputs||Array.from(t.querySelectorAll('input[type="text"]'));l=e.inputs=a.slice(0,2).map(d),p=new DateRangePicker(t,e)}return p?(l.forEach((e=>{const t=c.get(e).keypath;if(!t)return;let a=!1;const n=e.changeDateListenr=()=>{a!==e&&(a=e,this.set(t,e.datepicker.getDate(s)||null),a=!1)};e.addEventListener("changeDate",n),e.obsHandle=this.observe(t,(t=>{if(a===e)return;const n=(t?Array.isArray(t)?t:[t]:[]).map((e=>Datepicker.parseDate(e,s,o)));a=e,e.datepicker.setDate(n,{clear:!0}),a=!1}))})),{teardown(){p.destroy(),l.forEach((e=>{c.get(e).keypath&&(e.obsHandle.cancel(),e.removeEventListener("changeDate",e.changeDateListenr),u(e))}))}}):(l.forEach(u),{teardown(){}})}return e.internalFormat=null,e.types={default:{}},e}();
